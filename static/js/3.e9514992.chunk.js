(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{295:function(e,t,a){e.exports={user_profile:"ProfileInfo_user_profile__1TbR1",user_avatar:"ProfileInfo_user_avatar__1WAZg",fullName:"ProfileInfo_fullName__2p--3",profile_contacts:"ProfileInfo_profile_contacts__85HBS",contact_item:"ProfileInfo_contact_item__2bf50",upload_input:"ProfileInfo_upload_input__1e95T",upload_msg:"ProfileInfo_upload_msg__1hWzS",info_wrapper:"ProfileInfo_info_wrapper__2fyjo"}},296:function(e,t,a){e.exports={status:"ProfileStatus_status__SCDgG"}},297:function(e,t,a){e.exports={profile:"Profile_profile__3dzvr"}},298:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c",header:"MyPosts_header__2Sser",post:"MyPosts_post__38Ltf"}},299:function(e,t,a){e.exports={post:"Post_post__A0EJd"}},301:function(e,t,a){"use strict";a.r(t);var r=a(34),n=a(35),o=a(37),s=a(36),l=a(0),i=a.n(l),u=a(297),c=a.n(u);var f=a(118);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(i){n=!0,o=i}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}}(e,t)||Object(f.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(295),d=a.n(m),_=a(38),v=a(296),h=a.n(v),E=(i.a.Component,function(e){var t=p(Object(l.useState)(!1),2),a=t[0],r=t[1],n=p(Object(l.useState)(e.status),2),o=n[0],s=n[1];Object(l.useEffect)((function(){s(e.status)}),[e.status]);return i.a.createElement(i.a.Fragment,null,!a&&i.a.createElement("div",null,i.a.createElement("span",{onClick:function(){r(!0)},className:h.a.status},e.status||"type your status")),a&&i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(r(!1),e.updateProfileStatus(o))},value:o,onChange:function(e){s(e.currentTarget.value)}})))}),P=a(95),b=a.n(P),y=a(94),g=function(e){var t=e.deactivateEditMode;return i.a.createElement(i.a.Fragment,null,"EditMode",i.a.createElement("button",{onClick:t},"save Edit"))},S=function(e){var t=e.profile,a=e.isOwner,r=e.status,n=e.updateProfileAvatar,o=e.updateProfileStatus,s=p(Object(l.useState)(!1),2),u=s[0],c=s[1];return u?i.a.createElement(g,{deactivateEditMode:function(){c(!1)}}):i.a.createElement("div",{className:d.a.user_profile},i.a.createElement("img",{src:t.photos.small||b.a,className:d.a.user_avatar}),a&&i.a.createElement("label",{className:d.a.upload_msg},i.a.createElement("input",{type:"file",className:d.a.upload_input,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];n(t)}}}),"change avatar"),i.a.createElement("div",{className:d.a.fullName}," ",t.fullName),i.a.createElement("div",null,t.aboutMe),i.a.createElement(E,{status:r,updateProfileStatus:o}),t.lookingForAJob?i.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):i.a.createElement("div",null,"\u0420\u0430\u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451"),i.a.createElement("ul",{className:d.a.profile_contacts},Object.entries(t.contacts).map((function(e){var t=p(e,2),a=t[0],r=t[1];if(r)return i.a.createElement("li",{className:d.a.contact_item,key:a},a," : ",r," ")}))),a&&i.a.createElement("button",{onClick:function(){c(!0)}},"edit Profile"))},O=function(e){return e.profile?i.a.createElement("div",{className:d.a.info_wrapper},i.a.createElement(S,e)):i.a.createElement(_.a,null)},j=a(298),w=a.n(j),N=a(299),k=a.n(N),I=function(e){return i.a.createElement("div",{className:k.a.post},e.text,i.a.createElement("div",null,i.a.createElement("span",null,"like: ",e.likeCount)))},x=a(128),C=a(129),A=a(39),M=a(64),U=Object(A.a)(30),T=Object(M.a)("textarea"),D=Object(C.a)({form:"addPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(x.a,{component:T,name:"newPostText",validate:[A.b,U],placeholder:"type new post"})),i.a.createElement("div",null,i.a.createElement("button",null," new post")))})),F=function(e){var t=e.myPostsData.map((function(e){return i.a.createElement(I,{text:e.text,likeCount:e.likeCount,key:e.id})}));return i.a.createElement("div",{className:w.a.posts},i.a.createElement("h3",{className:w.a.header},"My posts"),i.a.createElement("div",null,t),i.a.createElement(D,{onSubmit:e.addNewPost}))},z=a(11),J=Object(z.b)((function(e){return{myPostsData:e.profilePage.myPostsData,newPostText:e.profilePage.newPostText}}),{addNewPost:y.a})(F),L=function(e){return i.a.createElement("div",{className:c.a.profile},i.a.createElement(O,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,updateProfileAvatar:e.updateProfileAvatar}),e.isOwner&&i.a.createElement(J,null))},W=a(9),Z=(a(70),a(7)),B=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.UserId;e||(e=this.props.authorizedUserId)||(e=this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.UserId!==e.match.params.UserId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(L,Object.assign({},this.props,{updateProfileStatus:this.props.updateProfileStatus,status:this.props.status,isOwner:!this.props.match.params.UserId}))}}]),a}(i.a.Component);t.default=Object(Z.d)(Object(z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isLogged:e.auth.isLogged}}),{getUserProfile:y.d,getProfileStatus:y.c,updateProfileStatus:y.f,updateProfileAvatar:y.e}),W.f)(B)}}]);
//# sourceMappingURL=3.e9514992.chunk.js.map