(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{300:function(e,t,a){e.exports={status:"ProfileStatus_status__SCDgG"}},301:function(e,t,a){e.exports={profile:"Profile_profile__3dzvr"}},302:function(e,t,a){e.exports={user_profile:"ProfileInfo_user_profile__1TbR1",user_avatar:"ProfileInfo_user_avatar__1WAZg",fullName:"ProfileInfo_fullName__2p--3",profile_contacts:"ProfileInfo_profile_contacts__85HBS",contact_item:"ProfileInfo_contact_item__2bf50",upload_input:"ProfileInfo_upload_input__1e95T",upload_msg:"ProfileInfo_upload_msg__1hWzS"}},303:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c",header:"MyPosts_header__2Sser",post:"MyPosts_post__38Ltf"}},304:function(e,t,a){e.exports={post:"Post_post__A0EJd"}},307:function(e,t,a){"use strict";a.r(t);var r=a(36),n=a(37),o=a(39),l=a(38),i=a(0),s=a.n(i),u=a(301),c=a.n(u);var f=a(122);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(s){n=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}(e,t)||Object(f.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(302),d=a.n(m),b=a(40),_=a(300),h=a.n(_),v=(s.a.Component,a(99)),E=a.n(v),P=a(97),y=a(56),g=a(34),O=a(133),S=(a(98),a(131)),j=a.n(S),k=Object(y.a)("input"),N=Object(O.a)({form:"editProfile"})((function(e){var t=e.profile,a=e.handleSubmit,r=e.error;return s.a.createElement("form",{onSubmit:a},s.a.createElement("b",null,"Full Name")," ",Object(y.b)("full Name","fullName",[],k),Object(y.b)("","lookingForAJob",[],"input",{type:"checkbox"},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"),s.a.createElement("b",null,"My professional skills")," :",Object(y.b)("My professional skills","lookingForAJobDescription",[],"textarea"),s.a.createElement("div",null,s.a.createElement("b",null,"About me")," :",Object(y.b)("about Me","aboutMe",[],"input")),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts"),":",Object.keys(t.contacts).map((function(e){return s.a.createElement("div",{key:e},s.a.createElement("b",null,e,":"),Object(y.b)(e,"contacts."+e,[],"input"))}))),r&&s.a.createElement("p",{className:j.a.formErr}," ",r," "),s.a.createElement("button",null,"Save changes"))})),w=function(e){var t=e.profile,a=e.isOwner,r=e.activateEditMode;return s.a.createElement("div",null,s.a.createElement("div",{className:d.a.fullName}," ",t.fullName),s.a.createElement("div",null,t.aboutMe),t.lookingForAJob?s.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):s.a.createElement("div",null,"\u0420\u0430\u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451"),s.a.createElement("div",null,t.lookingForAJobDescription||"\u0442\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0432\u044b\u043a\u0438"),s.a.createElement("ul",{className:d.a.profile_contacts},Object.entries(t.contacts).map((function(e){var t=p(e,2),a=t[0],r=t[1];return s.a.createElement(x,{key:a,social:a,contact:r})}))),a&&s.a.createElement("button",{onClick:r},"edit Profile"))},x=function(e){var t=e.social,a=e.contact;return s.a.createElement("li",{className:d.a.contact_item,key:t},t," : ",a," ")},I=function(e){var t=e.isOwner,a=(e.status,e.updateProfileAvatar),r=(e.updateProfileStatus,e.profile),n=e.saveProfileChanges,o=p(Object(i.useState)(!1),2),l=o[0],u=o[1];if(!r)return s.a.createElement(b.a,null);return l?s.a.createElement(N,{initialValues:r,profile:r,onSubmit:function(e){n(e).then((function(){u(!1)}))}}):s.a.createElement("div",{className:d.a.user_profile},s.a.createElement("img",{src:r.photos.small||E.a,className:d.a.user_avatar}),t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:d.a.upload_msg},s.a.createElement("input",{type:"file",className:d.a.upload_input,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];a(t)}}}),"change avatar")),s.a.createElement(w,{profile:r,isOwner:t,activateEditMode:function(){u(!0)}}))},A=a(303),C=a.n(A),M=a(304),U=a.n(M),D=function(e){return s.a.createElement("div",{className:U.a.post},e.text,s.a.createElement("div",null,s.a.createElement("span",null,"like: ",e.likeCount)))},F=a(89),J=Object(g.a)(30),T=Object(y.a)("textarea"),z=Object(O.a)({form:"addPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(F.a,{component:T,name:"newPostText",validate:[g.b,J],placeholder:"type new post"})),s.a.createElement("div",null,s.a.createElement("button",null," new post")))})),L=function(e){var t=e.myPostsData.map((function(e){return s.a.createElement(D,{text:e.text,likeCount:e.likeCount,key:e.id})}));return s.a.createElement("div",{className:C.a.posts},s.a.createElement("h3",{className:C.a.header},"My posts"),s.a.createElement("div",null,t),s.a.createElement(z,{onSubmit:e.addNewPost}))},W=a(11),Z=Object(W.b)((function(e){return{myPostsData:e.profilePage.myPostsData,newPostText:e.profilePage.newPostText}}),{addNewPost:P.a})(L),B=function(e){return s.a.createElement("div",{className:c.a.profile},s.a.createElement(I,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,updateProfileAvatar:e.updateProfileAvatar,saveProfileChanges:e.saveProfileChanges}),e.isOwner&&s.a.createElement(Z,null))},G=a(9),H=(a(72),a(7)),R=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.UserId;e||(e=this.props.authorizedUserId)||(e=this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.UserId!==e.match.params.UserId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(B,Object.assign({},this.props,{updateProfileStatus:this.props.updateProfileStatus,status:this.props.status,isOwner:!this.props.match.params.UserId}))}}]),a}(s.a.Component);t.default=Object(H.d)(Object(W.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isLogged:e.auth.isLogged}}),{getUserProfile:P.d,getProfileStatus:P.c,updateProfileStatus:P.g,updateProfileAvatar:P.f,saveProfileChanges:P.e}),G.f)(R)}}]);
//# sourceMappingURL=3.4182bc70.chunk.js.map