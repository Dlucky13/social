(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{300:function(e,t,a){e.exports={status:"ProfileStatus_status__SCDgG"}},301:function(e,t,a){e.exports={profile:"Profile_profile__3dzvr"}},302:function(e,t,a){e.exports={user_profile:"ProfileInfo_user_profile__1TbR1",user_avatar:"ProfileInfo_user_avatar__1WAZg",fullName:"ProfileInfo_fullName__2p--3",profile_contacts:"ProfileInfo_profile_contacts__85HBS",contact_item:"ProfileInfo_contact_item__2bf50",upload_input:"ProfileInfo_upload_input__1e95T",upload_msg:"ProfileInfo_upload_msg__1hWzS"}},303:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c",header:"MyPosts_header__2Sser",post:"MyPosts_post__38Ltf"}},304:function(e,t,a){e.exports={post:"Post_post__A0EJd"}},307:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a(37),o=a(39),l=a(38),s=a(0),i=a.n(s),u=a(301),c=a.n(u);var f=a(122);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||Object(f.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(302),d=a.n(m),b=a(40),v=a(300),E=a.n(v),h=(i.a.Component,function(e){var t=p(Object(s.useState)(!1),2),a=t[0],n=t[1],r=p(Object(s.useState)(e.status),2),o=r[0],l=r[1];Object(s.useEffect)((function(){l(e.status)}),[e.status]);return i.a.createElement(i.a.Fragment,null,!a&&i.a.createElement("div",null,i.a.createElement("span",{onClick:function(){n(!0)},className:E.a.status},e.status||"type your status")),a&&i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&(n(!1),e.updateProfileStatus(o))},value:o,onChange:function(e){l(e.currentTarget.value)}})))}),_=a(99),P=a.n(_),y=a(97),g=a(56),O=a(34),S=a(133),j=(a(98),a(131)),k=a.n(j),N=Object(g.a)("input"),w=Object(S.a)({form:"editProfile"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return i.a.createElement("form",{onSubmit:a},i.a.createElement("b",null,"Full Name")," ",Object(g.b)("full Name","fullName",[],N),Object(g.b)("","lookingForAJob",[],"input",{type:"checkbox"},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"),i.a.createElement("b",null,"My professional skills")," :",Object(g.b)("My professional skills","lookingForAJobDescription",[],"textarea"),i.a.createElement("div",null,i.a.createElement("b",null,"About me")," :",Object(g.b)("about Me","aboutMe",[],"input")),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),":",Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("b",null,e,":"),Object(g.b)(e,"contacts."+e,[],"input"))}))),n&&i.a.createElement("p",{className:k.a.formErr}," ",n," "),i.a.createElement("button",null,"Save changes"))})),x=function(e){var t=e.profile,a=e.isOwner,n=e.activateEditMode;return i.a.createElement("div",null,i.a.createElement("div",{className:d.a.fullName}," ",t.fullName),i.a.createElement("div",null,t.aboutMe),t.lookingForAJob?i.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):i.a.createElement("div",null,"\u0420\u0430\u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451"),i.a.createElement("div",null,t.lookingForAJobDescription||"\u0442\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0432\u044b\u043a\u0438"),i.a.createElement("ul",{className:d.a.profile_contacts},Object.entries(t.contacts).map((function(e){var t=p(e,2),a=t[0],n=t[1];return i.a.createElement(C,{key:a,social:a,contact:n})}))),a&&i.a.createElement("button",{onClick:n},"edit Profile"))},C=function(e){var t=e.social,a=e.contact;return i.a.createElement("li",{className:d.a.contact_item,key:t},t," : ",a," ")},I=function(e){var t=e.isOwner,a=e.status,n=e.updateProfileAvatar,r=e.updateProfileStatus,o=e.profile,l=e.saveProfileChanges,u=p(Object(s.useState)(!1),2),c=u[0],f=u[1];if(!o)return i.a.createElement(b.a,null);return c?i.a.createElement(w,{initialValues:o,profile:o,onSubmit:function(e){l(e).then((function(){f(!1)}))}}):i.a.createElement("div",{className:d.a.user_profile},i.a.createElement("img",{src:o.photos.small||P.a,className:d.a.user_avatar}),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:d.a.upload_msg},i.a.createElement("input",{type:"file",className:d.a.upload_input,onChange:function(e){if(e.target.files.length){var t=e.target.files[0];n(t)}}}),"change avatar"),i.a.createElement(h,{updateProfileStatus:r,status:a})),i.a.createElement(x,{profile:o,isOwner:t,activateEditMode:function(){f(!0)}}))},A=a(303),M=a.n(A),F=a(304),U=a.n(F),D=function(e){return i.a.createElement("div",{className:U.a.post},e.text,i.a.createElement("div",null,i.a.createElement("span",null,"like: ",e.likeCount)))},J=a(89),T=Object(O.a)(30),z=Object(g.a)("textarea"),L=Object(S.a)({form:"addPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(J.a,{component:z,name:"newPostText",validate:[O.b,T],placeholder:"type new post"})),i.a.createElement("div",null,i.a.createElement("button",null," new post")))})),W=function(e){var t=e.myPostsData.map((function(e){return i.a.createElement(D,{text:e.text,likeCount:e.likeCount,key:e.id})}));return i.a.createElement("div",{className:M.a.posts},i.a.createElement("h3",{className:M.a.header},"My posts"),i.a.createElement("div",null,t),i.a.createElement(L,{onSubmit:e.addNewPost}))},Z=a(11),B=Object(Z.b)((function(e){return{myPostsData:e.profilePage.myPostsData,newPostText:e.profilePage.newPostText}}),{addNewPost:y.a})(W),G=function(e){return i.a.createElement("div",{className:c.a.profile},i.a.createElement(I,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,isOwner:e.isOwner,updateProfileAvatar:e.updateProfileAvatar,saveProfileChanges:e.saveProfileChanges}),e.isOwner&&i.a.createElement(B,null))},H=a(9),K=(a(72),a(7)),R=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.UserId;e||(e=this.props.authorizedUserId)||(e=this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.UserId!==e.match.params.UserId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(G,Object.assign({},this.props,{updateProfileStatus:this.props.updateProfileStatus,status:this.props.status,isOwner:!this.props.match.params.UserId}))}}]),a}(i.a.Component);t.default=Object(K.d)(Object(Z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isLogged:e.auth.isLogged}}),{getUserProfile:y.d,getProfileStatus:y.c,updateProfileStatus:y.g,updateProfileAvatar:y.f,saveProfileChanges:y.e}),H.g)(R)}}]);
//# sourceMappingURL=3.c8c0ecb4.chunk.js.map